<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CritterCraft Wallet</title>
    <link rel="stylesheet" href="style.css"> <!-- Assuming a style.css might be added later -->
    <!-- Add this in the <head> or before your app.js script tag -->
    <script src="https://unpkg.com/@polkadot/api@latest/bundle.js"></script>
</head>
<body>
    <h1>CritterCraft Wallet Dashboard</h1>

    <div id="connection-status">Connecting to CritterChain...</div>

    <div id="wallet-info">
        <p>Wallet Address: <span id="wallet-address">Loading...</span></p>
        <p>PTCN Balance: <span id="ptcn-balance">Loading...</span></p>
    </div>

    <div id="pet-nfts">
        <h2>My Pet NFTs</h2>
        <ul id="nft-list">
            <!-- Pet NFTs will be listed here as <li> items -->
            <p id="nft-list-placeholder">Loading Pet NFTs...</p>
        </ul>
    </div>

    <div id="actions">
        <h2>Actions</h2>
        <div id="daily-claim-section">
            <h3>Daily PTCN Claim</h3>
            <button id="claimDailyPtcnButton">Claim Daily PTCN</button>
            <p id="claim-ptcn-status"></p>
            <p>Next claim available after: <span id="next-claim-time">Calculating...</span></p>
        </div>
        <hr>
        <!-- <button id="createPetButton">Create New Pet (Mint NFT)</button> --> <!-- Replaced by section below -->
        <div id="mint-nft-section">
            <h3>Create New Pet NFT</h3>
            <label for="pet-species">Species:</label>
            <input type="text" id="pet-species" name="pet-species" value="RoboDog"><br><br>
            <label for="pet-name">Name:</label>
            <input type="text" id="pet-name" name="pet-name" value="Sparky"><br><br>
            <button id="mintNftButton">Mint Pet NFT</button>
            <p id="mint-status"></p>
        </div>
        <hr> <!-- Separator -->
        <div id="transfer-nft-section">
            <h3>Transfer Pet NFT</h3>
            <label for="recipient-address">Recipient Address:</label>
            <input type="text" id="recipient-address" name="recipient-address" placeholder="Enter recipient's address" style="width: 300px;"><br><br>
            <label for="pet-id-transfer">Pet ID to Transfer:</label>
            <input type="number" id="pet-id-transfer" name="pet-id-transfer" placeholder="Enter Pet ID"><br><br>
            <button id="transferNftButton">Transfer Pet NFT</button>
            <p id="transfer-status"></p>
        </div>
        <hr> <!-- Separator -->
        <div id="update-pet-section">
            <h3>Update Pet Details</h3>
            <label for="update-pet-id">Pet ID to Update:</label>
            <input type="number" id="update-pet-id" placeholder="Enter Pet ID"><br><br>

            <label for="update-pet-name">New Name (Optional):</label>
            <input type="text" id="update-pet-name" placeholder="Enter new name"><br><br>

            <label for="update-pet-level">New Level (Optional):</label>
            <input type="number" id="update-pet-level" placeholder="Enter new level"><br><br>

            <label for="update-pet-xp">New XP (Optional):</label>
            <input type="number" id="update-pet-xp" placeholder="Enter new XP"><br><br>

            <label for="update-pet-mood">New Mood (0-255, Optional):</label>
            <input type="number" id="update-pet-mood" placeholder="Enter new mood"><br><br>

            <label for="update-pet-hunger">New Hunger (0-255, Optional):</label>
            <input type="number" id="update-pet-hunger" placeholder="Enter new hunger"><br><br>

            <label for="update-pet-energy">New Energy (0-255, Optional):</label>
            <input type="number" id="update-pet-energy" placeholder="Enter new energy"><br><br>

            <label for="update-pet-personality">Personality Traits (comma-separated, Optional):</label>
            <input type="text" id="update-pet-personality" placeholder="e.g., Brave,Curious,Shy"><br><br>

            <button id="updatePetButton">Update Pet Details</button>
            <p id="update-pet-status"></p>
        </div>
        <!-- More actions like send PTCN, etc. can be added here -->
    </div>

    <div id="events-section">
        <h3>Recent Activity</h3>
        <ul id="event-list">
            <p id="event-list-placeholder">No recent activity or loading events...</p>
            <!-- Events will be listed here as <li> items -->
        </ul>
    </div>

    <hr>
    <h2>Marketplace</h2>
    <div id="marketplace-section">
        <h3>Listed NFTs for Sale</h3>
        <ul id="marketplace-nft-list">
            <p id="marketplace-list-placeholder">Loading marketplace listings...</p>
            <!-- Listed NFTs will be dynamically added here -->
        </ul>
        <hr>
        <h3>List Your NFT for Sale</h3>
        <div id="list-nft-form">
            <label for="list-pet-id">Pet ID to List:</label>
            <input type="number" id="list-pet-id" placeholder="Enter ID of your Pet"><br><br>
            <label for="list-price">Price (in PTCN units):</label>
            <input type="number" id="list-price" placeholder="Enter price"><br><br>
            <button id="listNftButton">List My NFT</button>
            <p id="list-nft-status"></p>
        </div>
        <hr>
        <h3>Unlist Your NFT</h3>
        <div id="unlist-nft-form">
            <label for="unlist-pet-id">Pet ID to Unlist:</label>
            <input type="number" id="unlist-pet-id" placeholder="Enter ID of your listed Pet"><br><br>
            <button id="unlistNftButton">Unlist My NFT</button>
            <p id="unlist-nft-status"></p>
        </div>
    </div>

    <hr>
    <h2>Battle Arena</h2>
    <div id="battle-arena-section">
        <h3>Register Your Pet for Battle</h3>
        <div id="register-battle-form">
            <label for="battle-pet-id-select">Select Your Pet:</label>
            <select id="battle-pet-id-select">
                <option value="">--Loading your pets--</option>
            </select><br><br>
            <button id="registerBattleButton">Register for Battle</button>
            <p id="register-battle-status"></p>
        </div>
        <hr>
        <h3>Current Battles</h3>
        <ul id="battle-list">
            <p id="battle-list-placeholder">Loading battle information...</p>
            <!-- Battles will be dynamically added here -->
        </ul>
    </div>

    <hr>
    <h2>Quests</h2>
    <div id="quests-section">
        <h3>Available Quests</h3>
        <ul id="available-quests-list">
            <p id="available-quests-placeholder">Loading available quests...</p>
            <!-- Available quests will be dynamically added here -->
        </ul>
        <hr>
        <h3>Completed Quests</h3>
        <ul id="completed-quests-list">
            <p id="completed-quests-placeholder">Loading completed quests...</p>
            <!-- Completed quests will be dynamically added here -->
        </ul>
        <p id="quest-action-status"></p> <!-- For feedback on complete_quest action -->
    </div>

    <hr>
    <h2>Governance</h2>
    <div id="governance-section">
        <p>The CritterCraft Governance system is currently under development.</p>
        <p>PTCN holders will be able to participate in proposals and vote on the future of the CritterCraft ecosystem.</p>
        <p><strong>Status:</strong> Coming Soon!</p>
        <p><em>(Refer to GOVERNANCE.md in the project root for a conceptual outline.)</em></p>
    </div>

    <script src="app.js"></script>
</body>
</html>
